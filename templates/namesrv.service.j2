[Unit]
Description=RocketMQ {{rmq_role}}
After=network.target

[Service]
Type=simple
Environment="JAVA_HOME={{ java_home }}"
Environment="ROCKETMQ_HOME={{ install_dir }}/{{ rmq_role_name }}"
ExecStart={{ rmq_bin_dir }}/mq{{ rmq_role }} -c {{ rmq_conf_dir }}/{{ rmq_role }}.conf
ExecStop={{ rmq_bin_dir }}/mqshutdown {{ rmq_role }}
Restart=on-failure

[Install]
WantedBy=multi-user.target
